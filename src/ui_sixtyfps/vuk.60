import { ListView, ScrollView } from "sixtyfps_widgets.60";

export struct ListItemData := {
    name: string,
}

export struct DiagramItemData := {
    name: string,
    x: logical_length,
    y: logical_length,
}

export MainWindow := Window {
    title: "Vuk";

    property<[ListItemData]> list_model: [
        { name: "Krumpli1" },
        { name: "Krumpli2" },
    ];

    property<[DiagramItemData]> diagram_model: [
        { x: 50px, y: 50px, name: "Krumpli1" },
        { x: 50px, y: 100px, name: "Krumpli2" },
        { x: 300px, y: 50px, name: "Krumpli3" },
    ];

    HorizontalLayout {
        list_view := ListView {
            horizontal-stretch: 0;
            minimum-width: root.width / 4.0;

            for item in list_model: Text {
                height: 22px;
                text: item.name;
            }
        }

        scroll_view := ScrollView {
            horizontal-stretch: 1;
            viewport_width: canvas.width / 2;
            viewport_height: canvas.height / 2;

            canvas := Rectangle {
                width: parent.width;
                height: parent.height;

                for item in diagram_model: Text {
                    x: item.x;
                    y: item.y;
                    width: 150px;
                    height: 50px;
                    text: item.name;
                }
            }
        }
    }
}

